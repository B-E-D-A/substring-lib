# Architecture

Библиотека состоит из двух основных модулей
* ```lib``` - файлы относящиеся непосредственно к библиотеке. Её внутренняя организация имеет следующий вид
    * ```lib/src/algorithms``` - содержит основной функционал библиотеки, каждый алгоритм изолирован
    * ```lib/src/utils``` - содержит вспомогательный функционал, такой как работа с текстом, чтение из файла. Также здесь
      хранятся такие классы как суффиксный массив или бор
    * ```lib/src/substring_lib.cpp``` - содержит функционал, с которым взаимодействует пользователь, функции для поиска
      подстрок, с возможность выбора конкретного алгоритма. Его заголовочный файл пользователь подключает для работы
    * ```lib/include``` - заголовочные файлы библиотеки
    * ```lib/test/algorithms``` - unit tests для проверки корректности работы каждого алгоритма и utils
* ```experimental``` - экспериментальная среда для сравнения работы алгоритмов (возможно предоставление статистики отчета по результатам)
* ```docs``` - документация

В данной архитектуре пользователю недоступна внутренняя реализация конкретного алгоритма. Также отделена
основная (алгоритмическая) составляющая от вспомогательной. Поскольку каждый алгоритм реализован по отдельности
их будет легко добавлять или видоизменять

Архитектура каждого отдельного алгоритма состоит из функции его реализующей, чаще всего она примнимает текст и паттерн

### substring_lib.h
Состоит из ```enum``` для списка всех доступных алгоритмов, а также функций для поиска подстрок или построения суффиксного массива.
Также там храниться ```enum``` определяющий несколько стандартных алфавитов

```c++
std::vector<int> search_pattern(text, pattern, AlgorithmType type);

SuffixArray build_suffix_array(text);
```

### SuffixArray
* Хранит упорядоченный индексы начала строки, а также саму строку
* В качестве методов: построение, выдача LCP, выдача конкретного суффикса

### Бор
* Хранит узлы, каждый узел - символ, ссылка на детей, возможно указание конечной вершины
* Методы: построение бора по тексту, добавление новой строки, поиск строки