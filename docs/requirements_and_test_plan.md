# Требования

## Функциональные требования

1. **Основной алгоритм**
    - Библиотека должна реализовывать алгоритмы поиска подстроки.
    - Возможность работать со строками длины 10^6 символов.
    - Библиотека должна корректно находить все вхождения подстроки в тексте для всех допустимых входных данных.

2. **Интерфейс библиотеки**
    - Конструктор, принимающий шаблон для поиска и текст, в котором осуществляется поиск.
    - Метод для поиска подстроки в переданном тексте.

3. **API должно позволять**
    - Поиск всех вхождений подстроки в строке.
    - Возвращаемое значение: вектор позиций (индексов) всех вхождений подстроки в тексте.

## Нефункциональные требования

1. **Качество кода**
    - Код должен соответствовать современным стандартам C++ (C++17 или выше).
    - Использование средств статического анализа для проверки качества кода (clang-tidy, cppcheck).
    - Отсутствие сильных зависимостей от сторонних библиотек.

2. **Репозиторий**
    - Чистота истории коммитов.
    - Настроенные CI/CD (GitHub Actions) с автоматическим тестированием.
    - Оформленный README.md.

3. **Безопасность**
    - Проверка граничных случаев (например, пустая строка, строка меньше шаблона).
    - Отсутствие утечек памяти (подтверждается инструментами, например, Valgrind).

4. **Тестируемость**
    - Библиотека должна предоставлять возможность модульного тестирования.
    - Код должен быть покрыт тестами (не менее 80% покрытия).

5. **Документация**

    - Руководство пользователя

        - Описание API.
        - Примеры использования.
        - Ограничения и требования к входным данным.

    - Руководство разработчика
        - Описание алгоритма.
        - Требования к сборке и тестированию.

6. **Производительность**
    - Алгоритм должен обеспечивать сложность согласно таблице [ algo_description](algo_description.md).
    - Потребляемая память должна соответствовать таблице [ algo_description](algo_description.md).

7. **Кроссплатформенность**
    - Библиотека должна компилироваться и работать на разных платформах (Windows, Linux, macOS).
    - Сборка должна быть протестирована с использованием CMake и современных компиляторов (gcc, clang, MSVC).

# План тестирования

1. **Подготовка тестового окружения**

    - Настройка CI/CD с автоматическим запуском тестов.
    - Генерация отчетов о покрытии кода.

2. **Модульное тестирование**
    - Написание тестов для каждой функции в библиотеке с использованием Doctest.
    - Тестирование каждого компонента отдельно.
    - Тесты должны быть изолированными и выполняться быстро.

3. **Группировка тестов**

    - Граничные условия
        - Пустая строка в качестве текста.
        - Пустая строка в качестве шаблона.
        - Текст короче шаблона.
        - Текст и шаблон одинаковой длины.

    - Стандартные случаи
        - Поиск подстроки, которая существует в тексте
        - Поиск подстроки, которая существует несколько раз в тексте
        - Поиск подстроки в тексте длиной 10^6 символов.
        - Поиск подстроки, которой нет в тексте.

    - Нестандартные случаи (юникод, разные кодировки)

4. **Интеграционные тесты**
    - Тестирование взаимодействия разных частей библиотеки.

5. **Системное тестирование**
    - Проверка всей библиотеки в полном цикле, включая сборку и использование API.

6. **Нагрузочное тестирование**
    - Прогон поиска по текстам разного размера.
    - Измерение производительности алгоритма.
    - Проверка производительности под высоким уровнем нагрузки.

7. **Отчёты**
    - Сбор данных о покрытии кода тестами (gcov или аналогичный инструмент).
    - Логирование и сохранение результатов CI в виде артефактов.
    - Структура тестов.
